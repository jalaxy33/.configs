
[helix](https://docs.helix-editor.com/title-page.html) 是由 rust 开发的终端文本编辑器，定位类似于 neovim，提供了很多好用的开箱好用的功能。



## 键位

`helix` 键位与 `vim` 基本相似，但是有区别。`helix` 内有提供键位教学文档：
```
:tutor
```

与 vim 最明显的区别是，hx的逻辑是「先指定区域再修改」，影响「删除/修改/复制」等操作。


### 与vim基本一致的

- 光标移动 `h/j/k/l`（左下上右）
- 关闭：`:q` / `:quit`
  - 放弃更改并退出：`:q!`（与vim不同）
- 保存：`:w` / `:write`
  - 保存退出：`:wq` / `:write-quit`
- 删除：`d`（删除并复制）/ `alt+d`（删除但不复制）
  > 不同：hx的逻辑是「先指定区域再修改」
- 修改当前选区：`c`（修改并复制）/ `alt+c`（修改但不复制）
  > 不同：hx的逻辑是「先指定区域再修改」
- 插入：`i`（向前插入），`a`（向后插入）
  - `I`（行前插入）、`A`（行后插入）
- 新行：`o`（在下方创建）、`O`（在上方创建）
- 单词级移动：
  > 不同：hx会同时选中该词
  - 单词级：`w`（到下个单词前）、`e`（到下个单词后）、`b`（到上个单词开头）
  - 空格级：`W/E/B`
  - 在前面加数字表示重复几次
- 选择：`v`

    使用技巧：1. 按 ESC 或两下 `v` 退出选择；2. 可以组合移动键位，如 `v2w`

- 撤销修改：`u`
    > 不同：hx的恢复修改是 `U`
- 复制：`y`
    > 不同：hx的逻辑是「先指定区域再修改」
- 粘贴：`p`（在光标前）/ `P` （在光标后）
- 选择至字符：`f`（包含该字符）/ `t`（不包含该字符）
  
    > 不同：1. vim中只移动，不选择；2. hx不限制只在单行内

    大写形式 `F` / `T` 表示向前选择

- 替换为指定字符：`r`

    将选区内的所有字符替换为指定字符

- 将选区替换为剪贴板文本：`R`
- 合并多行为一行：`J`
- 重复操作：`.`（重复上次的插入操作）/ `alt+.`（重复上次的 f/t 选择）
- 寄存器：`"<字符>`

    1. 默认寄存器的名称是 `"`；
    2. 复制到指定寄存器（如寄存器b）：`"b` > `y` ；
    3. 从指定寄存器（如寄存器b）替换或粘贴： `"b` > `R`/`p`

- 搜索：`/`（向后搜索）/ `?`（向前搜索）

    - 使用技巧：`n`（前一个结果）/ `N`（后一个结果） <- **这里与 vim 不一样**
    - 搜索结果保存在 `/` 寄存器中

- 搜索选中的内容：`*`

    - 原理：`*` 是 `/y` 的缩写，将选中的字符保存到 `/` 搜索寄存器中
    - 之后按 `n` / `N` 选择前一个/后一个结果
    - 【进阶操作】批量修改搜索内容：

        选择要修改的内容  >  按 `*` 保存到搜索寄存器  >  按 `v` 进入选择模式  >  按 `n` 选择下一个相同内容  >  按 `c` 或 `r` 批量修改

        

- 录制宏：`Q`（录制）/ `q` 重放

    - 移动到某个特定字符上，按 `Q` 开始录制  >  进行一定的修改操作  >  退出修改模式，按 `Q` 结束录制  >  移动到下一个相同字符，按 `q` 重放操作

    - 录制的操作默认保存在 `@` 寄存器中




### 与vim不同的

- 选择行：`x` / `X`（遇空行停止）

    使用技巧：1. 按两下 `x` 或输入 `2x` 选择两行；2. 可以结合删除 `d` 或修改 `c`
  
- 取消选择：`;`（分号）
- 翻转选择方向：`alt+;`
- 恢复修改：`U`（而不是 ctrl+r）
- 复制到系统剪贴板：`space+y`（使用leader-key）
    > hx的 `y` 不复制到系统剪贴板，需要用带 leader-key 的版本
- 多光标：`C` （大写C，向下创建）/ `alt+C`（向上创建）

    使用技巧：1. 按 `,`（逗号）取消多光标，并聚焦到最后一个；2. 可以按多次 `C` 创建多个

- 同时选择多个相同单词：`s`

    - 基本使用方式：

        选择区域（如 `x` 选择一行或多行） >  按 `s` 键入需要选择的单词（左下角会提示 `SELECT:`） >  `c`/ `d` 同时修改或删除单词  >  ESC 退出插入模式 >  `,` 移除多余光标，聚焦于第一个选择
    
    - 支持正则：如在 `s` 搜索时, 使用 `  +` 匹配多于一个空格

- 对齐选择的内容：`&`

    例如：
    ```
    --> 98) ipsum
    --> 99) dolor
    --> 100) sit
    --> 101) amet
    ```
    选中 `98)` 之前的空格  >  按 `3C` 选择所有数字前的空格  >  按 `W` 选至所有 `)` 后的空格 >  按 `&` 对齐。最后得到
    ```
    -->  98) ipsum
    -->  99) dolor
    --> 100) sit
    --> 101) amet
    ```

- 在多行中拆分选择：`alt+s`

    - 使用方法：用 `x` 选择多行  >  `alt+s` 在每行选中的位置（通常是末尾）创建独立光标
    
    - 最实用的场景：结合 `&` 来实现 markdown 表格快速对齐
  
        例如：
        ```md
            | FRUIT   | AMOUNT |
            |---------|--------|
         | Apples  | 8      |
            | Bananas | 6      |
          | Oranges | 3      |
             | Donuts  | 4      |
        ```

        光标移动到表格开头  >  `6x`选择所有表格行  >  `alt+s` 在每行末尾创建光标  >  `&` 对齐表格：
        ```md
             | FRUIT   | AMOUNT |
             |---------|--------|
             | Apples  | 8      |
             | Bananas | 6      |
             | Oranges | 3      |
             | Donuts  | 4      |
        ```


- 调整缩进：`>`（向后缩进）/ `<`（向前缩进）
- 调整数字大小：`ctrl+a`（数字加一）/ `ctrl+x`（数字减一）


